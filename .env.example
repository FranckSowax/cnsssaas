# ============================================
# BGFI WhatsApp Platform - Variables d'environnement
# Copier ce fichier en .env et remplir les valeurs
# Usage: cp .env.example .env && nano .env
# ============================================

# ============================================
# APPLICATION
# ============================================
NODE_ENV=production
PORT=3000

# ============================================
# BASE DE DONNEES PostgreSQL
# En mode Docker: utiliser le nom du service 'db'
# ============================================
DATABASE_URL=postgresql://bgfi_user:CHANGER_CE_MOT_DE_PASSE@db:5432/bgfi_whatsapp?schema=public
DB_PASSWORD=CHANGER_CE_MOT_DE_PASSE

# ============================================
# AUTHENTIFICATION JWT
# Generer une cle: openssl rand -base64 64
# ============================================
JWT_SECRET=GENERER_UNE_CLE_SECRETE_AVEC_OPENSSL
JWT_EXPIRES_IN=7d

# ============================================
# WHATSAPP CLOUD API (Meta)
# Configuration depuis developers.facebook.com
# ============================================
WHATSAPP_ACCESS_TOKEN=votre_token_permanent
WHATSAPP_PHONE_NUMBER_ID=974528235744348
WHATSAPP_BUSINESS_ACCOUNT_ID=1664087661616394
WHATSAPP_VERIFY_TOKEN=un_token_de_verification_personnalise
WHATSAPP_APP_SECRET=votre_app_secret_meta
WHATSAPP_APP_ID=votre_app_id_meta

# ============================================
# OPENAI API
# ============================================
OPENAI_API_KEY=sk-votre-cle-openai
OPENAI_MODEL=gpt-4.1

# ============================================
# CHATBOT IA (Stella)
# ============================================
CHATBOT_AUTO_REPLY=true
CHATBOT_FALLBACK_MESSAGE=Merci pour votre message. Un conseiller BGFI Bank vous repondra dans les plus brefs delais.

# ============================================
# TRACKING DES CLICS
# URL de base pour le tracking (domaine public du serveur)
# ============================================
TRACKING_BASE_URL=https://votre-domaine.bgfi.com/t/{{1}}
TRACKING_FALLBACK_URL=https://bgfixstudia.com/

# ============================================
# CORS (URL du frontend si separe)
# En mode Docker: laisser * car frontend servi par le meme serveur
# ============================================
CLIENT_URL=*

# ============================================
# ENRICHISSEMENT IA (optionnel)
# ============================================
ENRICHMENT_MODEL=gpt-4.1

# ============================================
# RATE LIMITING (optionnel)
# ============================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000
CAMPAIGN_RATE_LIMIT=80
CAMPAIGN_BATCH_SIZE=100

# ============================================
# REDIS (optionnel - pour rate limiting distribue)
# ============================================
# REDIS_ENABLED=true
# REDIS_HOST=redis
# REDIS_PORT=6379

# ============================================
# LOGS
# ============================================
LOG_LEVEL=info
